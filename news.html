<!doctype html>
<html lang="it">
<head>
  
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>News - CORB</title>
  <link rel="manifest" href="manifest.json"><meta name="theme-color" content="#6b0f1a">
  <link rel="apple-touch-icon" href="img/icons/icon-192.png"><meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="stylesheet" href="./style.css?v=22">
</head>
<body>
  <header class="topbar">
    <div class="nav"><a href="./index.html" style="color:#fff">←</a><div class="title">News</div></div>
    <div class="right"><button id="menuBtn" class="iconbtn" aria-label="Menu" title="Menu">
      <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round"><path d="M3 6h18M3 12h18M3 18h18"/></svg></button></div>
  </header>
  <nav id="drawer"><span id="drawer-close">✕</span><h3>Menu</h3>
    <a href="./news.html">📰 News</a><a href="./squadra.html">👥 Squadra</a><a href="./video.html">🎥 Video</a>
    <a href="./prossima.html">📅 Prossima partita</a><a href="./partite.html">🏆 Risultati</a><a href="./calendario.html">📆 Calendario</a><a href="./admin.html">⚙️ Admin</a>
  </nav>
  <script>(function(){const d=document,dr=d.getElementById('drawer'),b=d.getElementById('menuBtn'),x=d.getElementById('drawer-close');b&&b.addEventListener('click',e=>{e.stopPropagation();dr.classList.add('open')});x&&x.addEventListener('click',()=>dr.classList.remove('open'));d.addEventListener('click',e=>{if(dr.classList.contains('open')&&!dr.contains(e.target)&&e.target!==b)dr.classList.remove('open')});})();</script>

  <main class="container">
    <section class="card">
      <input id="srch" class="card" style="width:100%;padding:12px;border-radius:12px;border:1px solid var(--ring);" placeholder="Cerca notizie...">
      <div id="newsList" style="margin-top:12px"></div>
    </section>
  </main>

  <script type="module">
    import {get} from './data-store.js';
    const all = get('news')||[];
    let shown = all;
    const list = document.getElementById('newsList');
    const render = () => list.innerHTML = shown.map(n=>`
      <div class="card" style="margin-bottom:12px">
        <div class="small">News</div>
        <h3 style="margin:6px 0">${n.titolo||'—'}</h3>
        <div class="small">${n.contenuto||''}</div>
      </div>`).join('') || '<div class="small">Nessuna news</div>';
    render();
    document.getElementById('srch').addEventListener('input', e=>{
      const q=e.target.value.toLowerCase();
      shown = all.filter(n=>(n.titolo||'').toLowerCase().includes(q)||(n.contenuto||'').toLowerCase().includes(q));
      render();
    });
    if ('serviceWorker' in navigator) navigator.serviceWorker.register('./sw.js');
  </script>
</body>
</html>
